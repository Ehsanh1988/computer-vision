"""Model config in json format"""


'''
IF  lr_callback  'type' == 'cosine_learning_rate_decay'  THEN   'params' : {'warmup_epoch' : 10} 
'''


################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################

CFG_RESNET50 = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data/",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 18,
        "epochs": 25,
        "opt_lr" : 0.0088,
        "fine_tune_at": 120,
        'dropout' : 0.1,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay', #cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 4,
                                          'hold_base_rate_steps' : 1} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'RESNET50'
    }
}
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################


#22 30 002 80 0.1 cosine(10 2) False
# #718/718 [==============================] - 10s 13ms/step - loss: 0.3512 - accuracy: 0.9262 - Precision-tr-0.5: 0.9353 - Precision-tr-0.9: 0.9743 - fp: 46.0000 - fn: 53.0000 - recall-tr--0.5: 0.9262 - recall-tr--0.9: 0.8969  
CFG_RESNET50V2 = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data/",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 32,
        "epochs": 30,
        "opt_lr" : 0.0001,
        "fine_tune_at": 0,
        'dropout' : 0.0,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay', #cosine_learning_rate_decay
                              'params' : {'warmup_epoch' : 0,
                                          'hold_base_rate_steps' : 4} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'RESNET50V2'
    }
}
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################

# 16 0002 with learning decay  20 0.0
# 700/700 [==============================] - 21s 29ms/step - loss: 0.7081 - accuracy: 0.8629 - Precision-tr-0.5: 0.8813 - Precision-tr-0.9: 0.9512 - fp: 80.0000 - fn: 106.0000 - recall-tr--0.5: 0.8486 - recall-tr--0.9: 0.7800 


CFG_RESNET152 = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data/",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 24,
        "epochs": 50,
        "opt_lr" : 0.0008,
        "fine_tune_at": 20,
        'dropout' : 0.0,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 7,
                                          'hold_base_rate_steps' : 7} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'RESNET152V2' #      RESNET50  |  RESNET152V2  |  RESNET50V2
    }
}

################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################

CFG_VGG16 = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 32,
        "epochs": 50,
        "opt_lr" : 0.001,
        "fine_tune_at": 0,
        'dropout' : 0.2,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 4,
                                          'hold_base_rate_steps' : 3} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'VGG16'
    }
}

################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################

# 718/718 [==============================] - 30s 42ms/step - loss: 0.2536 - accuracy: 0.9345 - Precision-tr-0.5: 0.9463 - Precision-tr-0.9: 0.9788 - fp: 38.0000 - fn: 49.0000 - recall-tr--0.5: 0.9318 - recall-tr--0.9: 0.8983  
CFG_EfficientNet = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 16,
        "epochs": 40,
        "opt_lr" : 0.0005,
        "fine_tune_at": 0,   
        'dropout' : 0.3,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',# 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 5,
                                          'hold_base_rate_steps' : 2} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'EfficientNetB7'
    }
}
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################
################################################################################################################################################################################################################################################################################################################################


CFG_DENSE201 = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 24,
        "epochs": 50,
        "opt_lr" : 0.0002,
        "fine_tune_at": 40,   
        'dropout' : 0.0,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',# 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 8,
                                          'hold_base_rate_steps' : 5} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'DenseNet201'
    }
}



CFG_DENSE121 = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 32,
        "epochs": 50,
        "opt_lr" : 0.0008,
        "fine_tune_at": 0,   
        'dropout' : 0.0,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',# 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 5,
                                          'hold_base_rate_steps' : 2} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'DenseNet121'
    }
}

CFG_NASNET = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 4,
        "epochs": 40,
        "opt_lr" : 0.0044,
        "fine_tune_at": 20,   
        'dropout' : 0.0,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',# 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 8,
                                          'hold_base_rate_steps' : 2} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'NASNetLarge'
    }
}

CFG_INCEPTION_RES = {
    "data": {
        "path_to_data" : "/workspace/detect-me/product_classifier/data",
        "path_to_model" : "/workspace/detect-me/product_classifier/saved_models/",
        "image_size": (224,224)
    },
    "train": {
        "batch_size": 32,
        "epochs": 25,
        "opt_lr" : 0.004,
        "fine_tune_at": 0,   
        'dropout' : 0.0,
        "optimizer": {
            "type": "adam",
            "lr_callback" : { 'type' : 'cosine_learning_rate_decay',# 'cosine_learning_rate_decay',
                              'params' : {'warmup_epoch' : 7,
                                          'hold_base_rate_steps' : 7} 
                             }
        },
        "metrics": [""]
    },
    "model": {
        "name" : 'INCEPTION_RES'
    }
}